/* Theme Variables */
:root {
  /* Light Mode Colors (default) */
  --background: 0 0% 97.3% !important; /* hsl for #F8F9FA */
  --foreground: 210 20% 16.5% !important; /* hsl for #212529 */
  --card: 0 0% 100% !important; /* hsl for #FFFFFF */
  --card-foreground: 210 20% 16.5% !important; /* same as foreground */

  --primary: 215 100% 31.2% !important; /* hsl for #007BFF */
  --primary-foreground: 0 0% 100% !important; /* hsl for white text on primary */

  --secondary: 210 14.3% 86.8% !important; /* hsl for a light grey for secondary components */
  --secondary-foreground: 210 9.2% 46.1% !important; /* hsl for #6C757D */

  --destructive: 355 78% 56.7% !important; /* hsl for #DC3545 */
  --destructive-foreground: 0 0% 100% !important;

  --muted: 210 14.3% 86.8% !important; /* hsl for light grey muted background */
  --muted-foreground: 210 9.2% 46.1% !important; /* hsl for #6C757D */

  --accent: 215 100% 31.2% !important; /* hsl for accent, same as primary for now */
  --accent-foreground: 0 0% 100% !important;

  --popover: 0 0% 100% !important; /* hsl for popover background */
  --popover-foreground: 210 20% 16.5% !important; /* hsl for popover text */

  --border: 210 14.3% 86.8% !important; /* hsl for #DEE2E6 */
  --input: 0 0% 100% !important; /* hsl for input background */
  --ring: 215 100% 31.2% !important; /* hsl for ring, same as primary */

  --radius: 0.5rem !important; /* default border radius */

  /* Custom variables not directly mapped by shadcn/ui defaults */
  --success: 120 60% 40% !important; /* hsl for #28A745 */
  --warning: 40 100% 50% !important; /* hsl for #FFC107 */
  --row-hover-bg: 210 14.3% 90% !important; /* hsl for #E9ECEF */
  --button-hover-accent: 215 100% 20% !important; /* hsl for #0056B3 */
}

.dark-mode {
  /* Dark Mode Colors */
  --background: 0 0% 0% !important; /* Deep Dark Black */
  --foreground: 0 0% 97.3% !important; /* hsl for #F8F9FA */
  --card: 210 14% 23.5% !important; /* hsl for #343A40 */
  --card-foreground: 0 0% 97.3% !important; /* same as foreground */

  --primary: 182 85% 35% !important; /* hsl for Phthalo Green */
  --primary-foreground: 0 0% 0% !important; /* hsl for black text on phthalo green */

  --secondary: 210 14% 23.5% !important; /* same as card for secondary components */
  --secondary-foreground: 210 10% 70% !important; /* hsl for #ADB5BD */

  --destructive: 355 78% 56.7% !important; /* hsl for #DC3545 */
  --destructive-foreground: 0 0% 97.3% !important;

  --muted: 210 14% 23.5% !important; /* hsl for muted background */
  --muted-foreground: 210 10% 70% !important; /* hsl for #ADB5BD */

  --accent: 182 85% 35% !important; /* hsl for accent, same as primary (phthalo green) */
  --accent-foreground: 0 0% 0% !important;

  --popover: 210 14% 23.5% !important; /* hsl for popover background */
  --popover-foreground: 0 0% 97.3% !important; /* hsl for popover text */

  --border: 182 85% 35% !important; /* hsl for phthalo green border */
  --input: 210 14% 23.5% !important; /* hsl for input background */
  --ring: 182 85% 35% !important; /* hsl for ring, same as primary (phthalo green) */

  /* Custom variables */
  --success: 120 60% 40% !important; /* hsl for #28A745 */
  --warning: 40 100% 50% !important; /* hsl for #FFC107 */
  --row-hover-bg: 210 10% 30% !important; /* hsl for #495057 */
  --button-hover-accent: 215 100% 50% !important; /* hsl for #338DFF */
  --phthalo-green: 182 85% 35% !important; /* Phthalo Green for dark mode text */
}

/* Base Styles */
body {
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--foreground)) !important;
  transition: background-color 0.3s ease, color 0.3s ease !important;
}

/* Card Styles */
.bg-card {
  background-color: hsl(var(--card)) !important;
  border: 1px solid hsl(var(--border)) !important;
}

/* Text Colors */
.text-primary {
  color: hsl(var(--foreground)) !important;
}

.text-secondary {
  color: hsl(var(--muted-foreground)) !important;
}

.text-accent {
  color: hsl(var(--primary)) !important; /* Accent uses primary color */
}

.text-success {
  color: hsl(var(--success)) !important;
}

.text-danger {
  color: hsl(var(--destructive)) !important;
}

.text-warning {
  color: hsl(var(--warning)) !important;
}

/* Border Colors */
.border-default {
  border-color: hsl(var(--border)) !important;
}

/* Background Colors */
.bg-main {
  background-color: hsl(var(--background)) !important;
}

.bg-secondary-bg {
  background-color: hsl(var(--card)) !important; /* Table headers, etc. */
}

/* Table Styles */
.hover\:bg-row-hover:hover {
  background-color: hsl(var(--row-hover-bg)) !important;
}

/* Form Elements */
input, select, textarea {
  background-color: hsl(var(--input)) !important;
  color: hsl(var(--foreground)) !important;
  border-color: hsl(var(--border)) !important;
}

/* Button Styles */
.Button, .button-primary, .button-secondary {
  transition: background-color 0.2s ease !important;
}

/* Light mode - All buttons use consistent primary styling */
.Button-primary, .button-primary,
.Button-secondary, .button-secondary {
  background-color: hsl(var(--primary)) !important;
  color: hsl(var(--primary-foreground)) !important;
  border: 1px solid hsl(var(--primary)) !important;
}

.Button-primary:hover, .button-primary:hover,
.Button-secondary:hover, .button-secondary:hover {
  background-color: hsl(var(--button-hover-accent)) !important;
  color: hsl(var(--primary-foreground)) !important;
}

/* Dark mode button overrides - All buttons use consistent phthalo green */
.dark-mode .Button-primary, 
.dark-mode .button-primary,
.dark-mode .Button-secondary, 
.dark-mode .button-secondary {
  background-color: hsl(var(--phthalo-green)) !important;
  color: hsl(var(--background)) !important;
  border: 1px solid hsl(var(--phthalo-green)) !important;
}

.dark-mode .Button-primary:hover, 
.dark-mode .button-primary:hover,
.dark-mode .Button-secondary:hover, 
.dark-mode .button-secondary:hover {
  background-color: hsl(182 85% 30%) !important; /* Darker phthalo green on hover */
  color: hsl(var(--background)) !important;
}

/* Custom shadcn/ui button variants which might not be directly using Button-primary/secondary */
.Button[variant="outline"] {
  background-color: transparent !important;
  border-color: hsl(var(--border)) !important;
  color: hsl(var(--foreground)) !important;
}
.Button[variant="outline"]:hover {
  background-color: hsl(var(--row-hover-bg)) !important;
}

.Button[variant="ghost"] {
  background-color: transparent !important;
  color: hsl(var(--muted-foreground)) !important;
}
.Button[variant="ghost"]:hover {
  background-color: hsl(var(--row-hover-bg)) !important;
  color: hsl(var(--foreground)) !important;
}

.Button[variant="destructive"] {
  background-color: hsl(var(--destructive)) !important;
  color: hsl(var(--destructive-foreground)) !important;
}
.Button[variant="destructive"]:hover {
  /* Maintain destructive color on hover, slightly darker if needed or just opacity */
  background-color: hsl(var(--destructive)) !important;
  opacity: 0.9 !important;
}


/* Transparent Background based on primary color */
.bg-primary\/20 {
  /* Enhanced visibility - use more solid background in light mode */
  background-color: hsl(var(--primary)) !important;
  opacity: 0.1 !important;
  border: 1px solid hsl(var(--primary)) !important;
}

/* Better styling for cost breakdown sections */
.bg-primary\/20 {
  background-color: hsl(215 100% 95%) !important; /* Light blue background in light mode */
  border: 1px solid hsl(var(--primary)) !important;
  opacity: 1 !important;
}

.bg-primary\/20 .text-primary-foreground {
  color: hsl(var(--primary)) !important; /* Use primary color for text instead of primary-foreground */
}

/* Transitions for all elements */
* {
  transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;
}

/* Custom Scrollbar for Financial Statements (already present, ensuring it uses new vars) */
.custom-scrollbar {
scrollbar-width: thin !important;
scrollbar-color: #888 #f1f1f1 !important; /* Gray thumb, light gray track */
}
.custom-scrollbar::-webkit-scrollbar {
width: 8px !important;
border-radius: 8px !important;
}
.custom-scrollbar::-webkit-scrollbar-thumb {
background: #888 !important;
border-radius: 8px !important;
}
.custom-scrollbar::-webkit-scrollbar-thumb:hover {
background: #555 !important;
}
.custom-scrollbar::-webkit-scrollbar-track {
background: #f1f1f1 !important;
border-radius: 8px !important;
}

/* Phthalo Green text colors for dark mode */
.dark-mode .header-title {
  color: hsl(var(--phthalo-green)) !important;
}
.dark-mode .header-subtitle {
  color: hsl(var(--phthalo-green)) !important;
  opacity: 0.8;
}

.dark-mode .text-primary {
  color: hsl(var(--phthalo-green)) !important;
}

.dark-mode .text-secondary {
  color: hsl(var(--phthalo-green)) !important;
  opacity: 0.7;
}

/* Override header text colors in dark mode */
.dark-mode h1.text-3xl.font-bold.text-primary {
    color: hsl(var(--phthalo-green)) !important;
}

.dark-mode p.text-secondary {
    color: hsl(var(--phthalo-green)) !important;
    opacity: 0.8;
}

/* Dark mode modal and dialog overrides */
.dark-mode .bg-blue-500,
.dark-mode .bg-blue-600 {
    background-color: hsl(var(--phthalo-green)) !important;
}

.dark-mode .hover\:bg-blue-600:hover,
.dark-mode .hover\:bg-blue-700:hover {
    background-color: hsl(182 85% 30%) !important;
}

.dark-mode .text-blue-500,
.dark-mode .text-blue-600 {
    color: hsl(var(--phthalo-green)) !important;
}

.dark-mode .hover\:text-blue-700:hover {
    color: hsl(182 85% 30%) !important;
}

/* Ensure bg-primary uses phthalo green in dark mode */
.dark-mode .bg-primary {
    background-color: hsl(var(--phthalo-green)) !important;
}

.dark-mode .hover\:bg-primary\/90:hover {
    background-color: hsl(182 85% 30%) !important;
}

/* Override any remaining blue elements in dark mode */
.dark-mode [class*="blue"]:not([class*="blue-gray"]):not([class*="blue-50"]) {
    background-color: hsl(var(--phthalo-green)) !important;
    color: hsl(var(--background)) !important;
}

/* Keep destructive buttons red in dark mode - no green override */
.dark-mode .Button[variant="destructive"],
.dark-mode button[variant="destructive"] {
    background-color: hsl(var(--destructive)) !important;
    color: hsl(var(--destructive-foreground)) !important;
}

.dark-mode .Button[variant="destructive"]:hover,
.dark-mode button[variant="destructive"]:hover {
    background-color: hsl(355 78% 50%) !important;
    color: hsl(var(--destructive-foreground)) !important;
    opacity: 0.9 !important;
}

/* Override transaction table hover effects if any */
.dark-mode .transaction-table tbody tr:hover {
    background-color: hsl(var(--phthalo-green) / 0.1) !important;
}

/* Dark mode transaction table header */
.dark-mode .transaction-table thead {
    background-color: hsl(var(--phthalo-green)) !important;
}

.dark-mode .transaction-table thead th {
    color: hsl(var(--background)) !important; /* White text on phthalo green */
}

/* Dark mode button overrides for outline buttons - target all outline buttons */
.dark-mode button.border-input,
.dark-mode button[class*="border-input"],
.dark-mode .border.border-input,
.dark-mode button.border:not([class*="destructive"]) {
    border-color: hsl(var(--phthalo-green)) !important;
    color: hsl(var(--phthalo-green)) !important;
}

.dark-mode button.border-input:hover,
.dark-mode button[class*="border-input"]:hover,
.dark-mode .border.border-input:hover,
.dark-mode button.border:not([class*="destructive"]):hover {
    background-color: hsl(var(--phthalo-green)) !important;
    color: hsl(0 0% 0%) !important; /* Black text on phthalo green */
    border-color: hsl(var(--phthalo-green)) !important;
}

/* Override for Settings icon button */
.dark-mode button[size="icon"] {
    border-color: hsl(var(--phthalo-green)) !important;
    color: hsl(var(--phthalo-green)) !important;
}

.dark-mode button[size="icon"]:hover {
    background-color: hsl(var(--phthalo-green)) !important;
    color: hsl(0 0% 0%) !important;
}

/* Override specific red button hover effects */
.dark-mode button.bg-red-500:hover,
.dark-mode button.bg-red-600:hover,
.dark-mode .btn.bg-red-500:hover,
.dark-mode .btn.bg-red-600:hover {
    background-color: hsl(var(--phthalo-green)) !important;
    color: hsl(var(--background)) !important;
}

/* Specific overrides for common blue classes */
.dark-mode .bg-blue-50 {
    background-color: hsl(182 85% 95%) !important;
}

.dark-mode .bg-blue-100 {
    background-color: hsl(182 85% 90%) !important;
}

/* Ensure primary accent colors use phthalo green in dark mode */
.dark-mode .accent-color,
.dark-mode .primary-accent,
.dark-mode .text-primary-foreground {
    color: hsl(var(--phthalo-green)) !important;
}

/* Additional comprehensive overrides for dark mode */
.dark-mode button[class*="primary"],
.dark-mode .btn-primary,
.dark-mode [data-state="active"] {
    background-color: hsl(var(--phthalo-green)) !important;
    color: hsl(var(--background)) !important;
}

/* Catch any missed blue variants */
.dark-mode .bg-blue-400,
.dark-mode .bg-blue-700,
.dark-mode .bg-blue-800 {
    background-color: hsl(var(--phthalo-green)) !important;
}

.dark-mode .hover\:bg-blue-400:hover,
.dark-mode .hover\:bg-blue-500:hover,
.dark-mode .hover\:bg-blue-800:hover {
    background-color: hsl(182 85% 30%) !important;
}

/* Dark mode styling for cost breakdown sections */
.dark-mode .bg-primary\/20 {
    background-color: hsl(210 14% 25%) !important; /* Solid dark gray background */
    opacity: 1 !important; /* No transparency */
    border: 2px solid hsl(var(--phthalo-green)) !important;
}

.dark-mode .bg-primary\/20 .text-primary-foreground,
.dark-mode .bg-primary\/20 p,
.dark-mode .bg-primary\/20 * {
    color: hsl(0 0% 95%) !important; /* Bright white text */
    font-weight: 500 !important; /* Slightly bolder for better visibility */
}

/* RTL (Arabic) Support */
.rtl-mode {
    direction: rtl !important;
}

.rtl-mode .flex {
    flex-direction: row-reverse !important;
}

.rtl-mode .grid {
    text-align: right !important;
}

.rtl-mode .text-left {
    text-align: right !important;
}

.rtl-mode .text-right {
    text-align: left !important;
}

.rtl-mode .mr-2 {
    margin-right: 0 !important;
    margin-left: 0.5rem !important;
}

.rtl-mode .ml-2 {
    margin-left: 0 !important;
    margin-right: 0.5rem !important;
}

.rtl-mode .justify-between {
    flex-direction: row-reverse !important;
}

/* Remove focus ring from all buttons and interactive elements */
button:focus,
button:focus-visible,
input:focus,
select:focus,
textarea:focus,
[role="button"]:focus,
a:focus {
    outline: none !important;
    box-shadow: none !important;
}

/* Remove focus ring specifically for buttons */
button:focus-visible {
    outline: none !important;
    box-shadow: none !important;
}

/* RTL Table Support */
.rtl-mode table {
    direction: rtl !important;
}

.rtl-mode th,
.rtl-mode td {
    text-align: right !important;
}

/* Override specific text alignment classes in RTL mode */
.rtl-mode .text-right,
.rtl-mode th.text-right,
.rtl-mode td.text-right {
    text-align: left !important;
}

.rtl-mode .text-left,
.rtl-mode th.text-left,
.rtl-mode td.text-left {
    text-align: right !important;
}

/* Specific overrides for table headers with higher specificity */
.rtl-mode table thead th.text-left {
    text-align: right !important;
}

.rtl-mode table thead th.text-right {
    text-align: left !important;
}

.rtl-mode table tbody td.text-left {
    text-align: right !important;
}

.rtl-mode table tbody td.text-right {
    text-align: left !important;
}

/* Standardized Transaction Table Structure */
.transaction-table {
    width: calc(100% + 350px) !important;
    min-width: calc(100% + 350px) !important;
    border-collapse: collapse !important;
    font-size: 14px !important;
    line-height: 1.5 !important;
    table-layout: auto !important;
}

.transaction-table th,
.transaction-table td {
    padding: 12px 8px !important;
    border-bottom: 1px solid hsl(var(--border)) !important;
    vertical-align: middle !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* First 6 columns - calculated to fill container width */
.transaction-table th:nth-child(1),
.transaction-table td:nth-child(1) { width: calc((100vw - 350px) * 0.15); min-width: 100px; } /* Date */

.transaction-table th:nth-child(2),
.transaction-table td:nth-child(2) { width: calc((100vw - 350px) * 0.15); min-width: 100px; } /* Type */

.transaction-table th:nth-child(3),
.transaction-table td:nth-child(3) { width: calc((100vw - 350px) * 0.35); min-width: 200px; } /* Description */

.transaction-table th:nth-child(4),
.transaction-table td:nth-child(4) { width: calc((100vw - 350px) * 0.15); min-width: 100px; } /* Amount */

.transaction-table th:nth-child(5),
.transaction-table td:nth-child(5) { width: calc((100vw - 350px) * 0.10); min-width: 120px; } /* Debit */

.transaction-table th:nth-child(6),
.transaction-table td:nth-child(6) { width: calc((100vw - 350px) * 0.10); min-width: 120px; } /* Credit */

/* Note and Actions - fixed width, hidden until scroll */
.transaction-table th:nth-child(7),
.transaction-table td:nth-child(7) { width: 250px; min-width: 250px; } /* Note */

.transaction-table th:nth-child(8),
.transaction-table td:nth-child(8) { width: 100px; min-width: 100px; } /* Actions */

/* Hide scrollbar and force LTR scroll direction */
.transaction-scroll-container {
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE/Edge */
  direction: ltr !important; /* Always scroll from left to right */
}

/* Override RTL mode for scroll container specifically */
.rtl-mode .transaction-scroll-container,
.arabic-text.transaction-scroll-container,
.rtl-mode.arabic-text .transaction-scroll-container {
  direction: ltr !important; /* Force LTR scroll even in RTL mode */
}

.transaction-scroll-container::-webkit-scrollbar {
  display: none; /* Chrome/Safari/Opera */
}

/* Typography Consistency */
.arabic-text {
    font-family: 'Segoe UI', Tahoma, Arial, sans-serif !important;
    direction: rtl !important;
    text-align: right !important;
}

.english-text {
    font-family: 'Segoe UI', Tahoma, Arial, sans-serif !important;
    direction: ltr !important;
    text-align: left !important;
}

/* Color Scheme Standardization */
.transaction-table thead {
    background-color: hsl(var(--primary)) !important;
}

.transaction-table thead th {
    color: hsl(var(--primary-foreground)) !important;
    font-weight: 600 !important;
    text-transform: uppercase !important;
    letter-spacing: 0.05em !important;
}

/* Alternating row colors */
.transaction-table tbody tr:nth-child(even) {
    background-color: hsl(var(--muted) / 0.3) !important;
}

.transaction-table tbody tr:nth-child(odd) {
    background-color: hsl(var(--card)) !important;
}

.transaction-table tbody tr:hover {
    background-color: hsl(var(--row-hover-bg)) !important;
    transition: background-color 0.2s ease !important;
}

/* Text colors for different transaction types */
.transaction-type-purchase { color: hsl(215 100% 31.2%) !important; }
.transaction-type-sale { color: hsl(120 60% 40%) !important; }
.transaction-type-expense { color: hsl(355 78% 56.7%) !important; }
.transaction-type-withdrawal { color: hsl(40 100% 50%) !important; }
.transaction-type-gain { color: hsl(120 60% 40%) !important; }
.transaction-type-loss { color: hsl(355 78% 56.7%) !important; }
.transaction-type-create { color: hsl(182 85% 35%) !important; }

/* Consistent highlighting for amounts */
.transaction-amount {
    font-weight: 600 !important;
    color: hsl(var(--foreground)) !important;
}

.transaction-debit {
    color: hsl(355 78% 56.7%) !important; /* Red for debits */
    font-size: 13px !important;
}

.transaction-credit {
    color: hsl(120 60% 40%) !important; /* Green for credits */
    font-size: 13px !important;
}

/* RTL-specific overrides for transaction table */
.rtl-mode.arabic-text .transaction-table {
    direction: ltr !important; /* Keep table direction LTR for consistent column order */
}

.rtl-mode.arabic-text .transaction-table th,
.rtl-mode.arabic-text .transaction-table td {
    text-align: right !important; /* Right-align Arabic text within cells */
}

/* Keep numeric columns left-aligned for readability */
.rtl-mode.arabic-text .transaction-amount,
.rtl-mode.arabic-text .transaction-debit,
.rtl-mode.arabic-text .transaction-credit {
    text-align: left !important; /* Numbers should still read left-to-right */
}
